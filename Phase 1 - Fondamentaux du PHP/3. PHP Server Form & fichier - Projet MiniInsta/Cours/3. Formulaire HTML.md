# Formulaire HTML
Les données d'un formulaire PHP sont placées dans le body. À la différence d'un body `JSON`, il est beaucoup plus simple de récupérer ces données.
Il suffit de lire le contenu du tableau `$_POST`.

Soit un formulaire HTML : 
*index.php*
```html
<form action="/add-user.php" method="post">
  <input type="text" name="name">
  <input type="email" name="email">
  <input type="password" name="password">

  <input type="submit" value="Submit">
</form> 
```

L'attribut action permet de définir quelle page PHP va recevoir les données.

Ici, c'est le fichier `add-user.php` qui reçoit les données :
```php
<form action="/add-user.php" method="post">
```

1. Créez un fichier add-user.php pour écrire la suite du code (la réception des données).

Les données du formulaire sont simplement dans le tableau `$_POST`.

*add-user.php*
```php
<?php
echo $_POST["email"];
echo $_POST["password"];
?> 

<h2> Bonjour <?= $_POST["name"] ?> !</h2>
```

Le plus simple pour comprendre le fonctionnement est de var_dump la variable `$_POST`.

```html
<form action="/add-user.php" method="post">
  <input type="text" name="name">
  <input type="email" name="email">
  <input type="password" name="password">

  <input type="submit" value="Submit">
</form> 
```

*add-user.php*
```php
<?php
var_dump($_POST);
?> 
```

## Exercices

1. Faites une page `index.php` et `autre-page.php`
  - `index.php` contient un formulaire avec les champs : name, lastname, age.
  - `autre-page.php` fait un var_dump des données pour les afficher.

2. Créez un formulaire dans `index.php` qui demande à l'utilisateur son film préféré, puis affichez la réponse dans `autre-page.php`.

3. Dans `index.php`, ajoutez un champ pour saisir une couleur favorite. Affichez cette couleur dans `autre-page.php` en utilisant une balise `<span>` colorée.

4. Modifiez le formulaire de `index.php` pour inclure un champ "ville". Dans `autre-page.php`, affichez un message personnalisé du type : "Bienvenue à [ville] !".

5. Ajoutez un champ "commentaire" dans `index.php`. Dans `autre-page.php`, affichez le commentaire en majuscules.



## Header de redirection
En cas d'erreur, vous voulez rediriger l'utilisateur vers une autre page. Pour cela, vous pouvez utiliser la fonction `header()` qui permet d'envoyer au navigateur non pas du texte HTML mais une instruction de redirection appelée "header HTTP".
```php
<?php
if (!isset($_POST["name"]) || empty($_POST["name"])) {
    header("Location: /missing-name.php");
    exit();
}
```

## Exercices supplémentaires

1. Ajoutez un formulaire pour demander l'âge de l'utilisateur dans une page index.php. 
  - Le formulaire renvoie vers un fichier `test-age.php` 
  - Si l'âge est inférieur à 18, redirigez vers une page `mineur.php` avec un message d'accès refusé. 
  - Sinon, affichez un message de bienvenue dans `majeur.php`.
  - Vous aurez besoin de créer les 4 fichiers suivants :
    - index.php : pour le formulaire qui demande l'âge
    - test-age.php : la page qui vérifie l'âge et redirige vers la bonne page en fonction de l'âge.
    - mineur.php
    - majeur.php

*index.php*
```php
<form action="test-age.php" enctype="multipart/form-data">
  <input type="text" name="age">
  <button>Envoyer mon âge !</button>
</form>
```